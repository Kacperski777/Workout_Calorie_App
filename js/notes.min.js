let storage=JSON.parse(localStorage.getItem('notes2'))||[];if(storage!==null){show()}
function overlayOn(){document.querySelector(".note-form").classList.remove("fadeOut");document.querySelector(".note-form").style.display="block"}
function quit(){document.querySelector(".note-form").style.display="none"}
function overlayOff(){document.querySelector(".note-form").classList.add("fadeOut");setTimeout(quit,990)}
function Submit(){let noteTitle=document.querySelector("#input-title").value
let noteDescription=document.querySelector("#input-description").value
if(noteTitle==""||noteDescription==""){return alert("Fill in all the Inputs")}else{noted={title:noteTitle,description:noteDescription}}
document.querySelector("#input-title").value="";document.querySelector("#input-description").value="";storage.push(noted)
show()}
function show(){let notes2=Array.from(document.querySelectorAll('.show-note2'));if(notes2.length>0){notes2.forEach(noted=>{noted.remove()})}
storage.map(noted=>{let divi=document.createElement("div");divi.classList="show-note2 draggable"
let title=document.createElement("h1");let desc=document.createElement("p");title.innerText=noted.title;desc.innerText=noted.description;let deleteButton=document.createElement('a');deleteButton.innerHTML='Delete';deleteButton.classList.add('delete-button')
divi.appendChild(title);divi.appendChild(desc);divi.appendChild(deleteButton)
var element=document.querySelector(".show-note");element.appendChild(divi);localStorage.setItem('notes2',JSON.stringify(storage));quit();deleteButton3()})}
function deleteButton3(){deleteButtonsF=Array.from(document.querySelectorAll('.delete-button'));deleteButtonsF.forEach(button=>{let noteTitle2=button.previousSibling.previousSibling.innerText;button.addEventListener('click',()=>{deleteButton2(noteTitle2)})})}
function deleteButton2(noteTitle2){for(let i=0;i<storage.length;i++){if(storage[i].title==noteTitle2){storage.splice(i,1)}}
localStorage.setItem('notes2',JSON.stringify(storage))
show()}
interact('.draggable').draggable({inertia:!0,modifiers:[interact.modifiers.restrictRect({restriction:'parent',endOnly:!0})],autoScroll:!0,listeners:{move:dragMoveListener,}})
function dragMoveListener(event){var target=event.target
var x=(parseFloat(target.getAttribute('data-x'))||0)+event.dx
var y=(parseFloat(target.getAttribute('data-y'))||0)+event.dy
target.style.webkitTransform=target.style.transform='translate('+x+'px, '+y+'px)'
target.setAttribute('data-x',x)
target.setAttribute('data-y',y)}
window.dragMoveListener=dragMoveListener
